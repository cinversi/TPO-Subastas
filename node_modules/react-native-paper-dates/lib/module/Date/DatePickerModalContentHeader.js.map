{"version":3,"sources":["DatePickerModalContentHeader.tsx"],"names":["React","View","StyleSheet","IconButton","Text","useHeaderTextColor","Color","getLabel","mode","configuredLabel","DatePickerModalHeader","props","onToggle","collapsed","moreLabel","label","color","allowEditing","styles","header","toUpperCase","headerContentContainer","fill","HeaderContentSingle","state","emptyLabel","locale","lighterColor","fade","rgb","toString","dateColor","date","formatter","useMemo","Intl","DateTimeFormat","month","day","singleHeaderText","format","HeaderContentMulti","dateCount","dates","length","map","join","HeaderContentRange","headerSeparator","startLabel","endLabel","startColor","startDate","endColor","endDate","rangeHeaderText","create","flex","animated","paddingBottom","elevation","safeContent","height","alignItems","flexDirection","paddingLeft","paddingRight","marginTop","letterSpacing","fontSize","excludeInRangeHeaderText","excludeInRangeHeaderTextSmall","marginLeft","appbarHeader","column","row"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { View, StyleSheet } from 'react-native'\nimport { IconButton, Text } from 'react-native-paper'\nimport { ModeType } from './Calendar'\nimport { LocalState } from './DatePickerModalContent'\nimport { useHeaderTextColor } from '../utils'\nimport Color from 'color'\n\nexport interface HeaderPickProps {\n  moreLabel?: string\n  label?: string\n  emptyLabel?: string\n  saveLabel?: string\n  headerSeparator?: string\n  startLabel?: string\n  endLabel?: string\n}\n\nexport interface HeaderContentProps extends HeaderPickProps {\n  state: LocalState\n  mode: ModeType\n  collapsed: boolean\n  onToggle: () => any\n  locale: undefined | string\n}\n\nfunction getLabel(mode: ModeType, configuredLabel?: string) {\n  if (configuredLabel) {\n    return configuredLabel\n  }\n  if (mode === 'range') {\n    return 'Select period'\n  }\n  if (mode === 'single') {\n    return 'Select date'\n  }\n\n  if (mode === 'multiple') {\n    return 'Select dates'\n  }\n  return '...?'\n}\n\nexport default function DatePickerModalHeader(props: HeaderContentProps) {\n  const { onToggle, collapsed, mode, moreLabel } = props\n\n  const label = getLabel(props.mode, props.label)\n\n  const color = useHeaderTextColor()\n  const allowEditing = mode !== 'multiple'\n  return (\n    <View style={[styles.header]}>\n      <View>\n        <Text style={[styles.label, { color }]}>{label.toUpperCase()}</Text>\n\n        <View style={styles.headerContentContainer}>\n          {mode === 'range' ? (\n            <HeaderContentRange {...props} color={color} />\n          ) : null}\n          {mode === 'single' ? (\n            <HeaderContentSingle {...props} color={color} />\n          ) : null}\n          {mode === 'multiple' ? (\n            <HeaderContentMulti\n              {...props}\n              color={color}\n              moreLabel={moreLabel}\n            />\n          ) : null}\n        </View>\n      </View>\n      <View style={styles.fill} />\n      {allowEditing ? (\n        <IconButton\n          icon={collapsed ? 'pencil' : 'calendar'}\n          color={color}\n          onPress={onToggle}\n        />\n      ) : null}\n    </View>\n  )\n}\n\nexport function HeaderContentSingle({\n  state,\n  emptyLabel = ' ',\n  color,\n  locale,\n}: HeaderContentProps & { color: string }) {\n  const lighterColor = Color(color).fade(0.5).rgb().toString()\n  const dateColor = state.date ? color : lighterColor\n\n  const formatter = React.useMemo(() => {\n    return new Intl.DateTimeFormat(locale, {\n      month: 'short',\n      day: 'numeric',\n    })\n  }, [locale])\n\n  return (\n    <Text style={[styles.singleHeaderText, { color: dateColor }]}>\n      {state.date ? formatter.format(state.date) : emptyLabel}\n    </Text>\n  )\n}\n\nexport function HeaderContentMulti({\n  state,\n  emptyLabel = ' ',\n  moreLabel = 'more',\n  color,\n  locale,\n}: HeaderContentProps & { color: string; moreLabel: string | undefined }) {\n  const dateCount = state.dates?.length || 0\n  const lighterColor = Color(color).fade(0.5).rgb().toString()\n  const dateColor = dateCount ? color : lighterColor\n\n  const formatter = React.useMemo(() => {\n    return new Intl.DateTimeFormat(locale, {\n      month: 'short',\n      day: 'numeric',\n    })\n  }, [locale])\n\n  let label = emptyLabel\n  if (dateCount) {\n    if (dateCount <= 2) {\n      label = state.dates!.map((date) => formatter.format(date)).join(', ')\n    } else {\n      label =\n        formatter.format(state.dates![0]) + ` (+ ${dateCount - 1} ${moreLabel})`\n    }\n  }\n\n  return (\n    <Text style={[styles.singleHeaderText, { color: dateColor }]}>{label}</Text>\n  )\n}\n\nexport function HeaderContentRange({\n  locale,\n  state,\n  headerSeparator = '-',\n  startLabel = 'Start',\n  endLabel = 'End',\n  color,\n}: HeaderContentProps & { color: string }) {\n  const formatter = React.useMemo(() => {\n    return new Intl.DateTimeFormat(locale, {\n      month: 'short',\n      day: 'numeric',\n    })\n  }, [locale])\n\n  const lighterColor = Color(color).fade(0.5).rgb().toString()\n  const startColor = state.startDate ? color : lighterColor\n  const endColor = state.endDate ? color : lighterColor\n\n  return (\n    <>\n      <Text style={[styles.rangeHeaderText, { color: startColor }]}>\n        {state.startDate ? formatter.format(state.startDate) : startLabel}\n      </Text>\n      <Text style={[styles.headerSeparator, { color }]}>{headerSeparator}</Text>\n      <Text style={[styles.rangeHeaderText, { color: endColor }]}>\n        {state.endDate ? formatter.format(state.endDate) : endLabel}\n      </Text>\n    </>\n  )\n}\n\nconst styles = StyleSheet.create({\n  fill: {\n    flex: 1,\n  },\n  animated: {\n    paddingBottom: 0,\n    elevation: 4,\n  },\n  safeContent: {\n    paddingBottom: 0,\n  },\n  header: {\n    height: 75,\n    alignItems: 'center',\n    flexDirection: 'row',\n    paddingLeft: 24,\n    paddingRight: 12,\n  },\n  headerContentContainer: { marginTop: 5, flexDirection: 'row' },\n  label: { color: '#fff', letterSpacing: 1, fontSize: 13 },\n  singleHeaderText: { color: '#fff', fontSize: 25 },\n  rangeHeaderText: { color: '#fff', fontSize: 25 },\n  excludeInRangeHeaderText: { fontSize: 25 },\n  excludeInRangeHeaderTextSmall: {\n    fontSize: 14,\n    marginTop: -3,\n    marginLeft: 3,\n  },\n\n  headerSeparator: {\n    color: 'rgba(255,255,255,1)',\n    fontSize: 25,\n    paddingLeft: 6,\n    paddingRight: 6,\n  },\n  appbarHeader: {\n    elevation: 0,\n  },\n  column: { flexDirection: 'column' },\n  row: { flexDirection: 'row' },\n})\n"]}